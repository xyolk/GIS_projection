<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>寻味金陵 - 食客端</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/tdesign-miniprogram@1.4.2/dist/tdesign.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            max-width: 393px;
            margin: 0 auto;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background-color: #f5f5f5;
        }
        .page {
            display: none;
            min-height: 852px;
            background-color: white;
        }
        .page.active {
            display: block;
        }
        .tabbar {
            position: fixed;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 393px;
            background-color: white;
            border-top: 1px solid #e8e8e8;
            display: flex;
            justify-content: space-around;
            padding: 8px 0;
            z-index: 100;
        }
        .tabbar-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            font-size: 12px;
            color: #666;
        }
        .tabbar-item.active {
            color: #0066ff;
        }
        .tabbar-item i {
            font-size: 20px;
            margin-bottom: 2px;
        }
        .search-bar {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 16px;
            color: white;
        }
        .restaurant-card {
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            margin-bottom: 16px;
        }
        .rating-star {
            color: #ffc107;
        }
        .nav-btn {
            background: linear-gradient(135deg, #0066ff 0%, #00c6ff 100%);
            color: white;
            border-radius: 24px;
            padding: 10px 20px;
            font-weight: bold;
        }
        .nav-option {
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 12px;
            border: 2px solid #e8e8e8;
        }
        .nav-option.active {
            border-color: #0066ff;
            background-color: #f0f7ff;
        }
        .tag {
            background-color: #f0f0f0;
            border-radius: 16px;
            padding: 4px 12px;
            font-size: 12px;
            margin-right: 8px;
            margin-bottom: 8px;
        }
        .tag.selected {
            background-color: #0066ff;
            color: white;
        }
        .modal {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background-color: white;
            border-radius: 20px 20px 0 0;
            padding: 20px;
            box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.1);
            z-index: 200;
            max-height: 80vh;
            overflow-y: auto;
        }
    </style>
</head>
<body>
    <!-- 首页 -->
    <div id="home" class="page active">
        <div class="search-bar">
            <h1 class="text-2xl font-bold mb-4">寻味金陵</h1>
            <div class="flex items-center bg-white/20 rounded-full p-2">
                <i class="fas fa-search text-white mr-2"></i>
                <input type="text" placeholder="搜索美食、餐厅" class="bg-transparent border-none text-white placeholder-white/80 flex-1">
            </div>
        </div>
        
        <div class="p-4">
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-xl font-semibold">附近美食</h2>
                <div class="flex items-center text-sm text-gray-500">
                    <span>智能排序</span>
                    <i class="fas fa-chevron-down ml-1"></i>
                </div>
            </div>
            
            <!-- 筛选标签 -->
            <div class="flex overflow-x-auto mb-4 pb-2">
                <div class="tag selected">全部</div>
                <div class="tag">中餐</div>
                <div class="tag">西餐</div>
                <div class="tag">火锅</div>
                <div class="tag">烧烤</div>
                <div class="tag">日料</div>
                <div class="tag">奶茶</div>
            </div>
            
            <!-- 餐厅列表 -->
            <div class="restaurant-card" onclick="showPage('detail')">
                <div class="h-48 bg-gradient-to-r from-red-400 to-orange-500"></div>
                <div class="p-4">
                    <div class="flex justify-between items-start">
                        <h3 class="text-lg font-bold">南京大排档</h3>
                        <div class="flex items-center">
                            <span class="rating-star">★</span>
                            <span class="ml-1 font-semibold">4.8</span>
                        </div>
                    </div>
                    <div class="flex items-center text-sm text-gray-500 mt-1">
                        <span>南京菜</span>
                        <span class="mx-2">|</span>
                        <span>人均 ¥88</span>
                        <span class="mx-2">|</span>
                        <span>距离 500m</span>
                    </div>
                    <div class="mt-2">
                        <div class="tag">排队中</div>
                        <div class="tag">有停车位</div>
                    </div>
                </div>
            </div>
            
            <div class="restaurant-card" onclick="showPage('detail')">
                <div class="h-48 bg-gradient-to-r from-green-400 to-teal-500"></div>
                <div class="p-4">
                    <div class="flex justify-between items-start">
                        <h3 class="text-lg font-bold">小厨娘淮扬菜</h3>
                        <div class="flex items-center">
                            <span class="rating-star">★</span>
                            <span class="ml-1 font-semibold">4.6</span>
                        </div>
                    </div>
                    <div class="flex items-center text-sm text-gray-500 mt-1">
                        <span>淮扬菜</span>
                        <span class="mx-2">|</span>
                        <span>人均 ¥128</span>
                        <span class="mx-2">|</span>
                        <span>距离 800m</span>
                    </div>
                    <div class="mt-2">
                        <div class="tag">营业中</div>
                        <div class="tag">免费WiFi</div>
                    </div>
                </div>
            </div>
            
            <div class="restaurant-card" onclick="showPage('detail')">
                <div class="h-48 bg-gradient-to-r from-purple-400 to-pink-500"></div>
                <div class="p-4">
                    <div class="flex justify-between items-start">
                        <h3 class="text-lg font-bold">喜茶</h3>
                        <div class="flex items-center">
                            <span class="rating-star">★</span>
                            <span class="ml-1 font-semibold">4.7</span>
                        </div>
                    </div>
                    <div class="flex items-center text-sm text-gray-500 mt-1">
                        <span>饮品</span>
                        <span class="mx-2">|</span>
                        <span>人均 ¥28</span>
                        <span class="mx-2">|</span>
                        <span>距离 300m</span>
                    </div>
                    <div class="mt-2">
                        <div class="tag">营业中</div>
                        <div class="tag">可外卖</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- 餐厅详情页 -->
    <div id="detail" class="page">
        <div class="relative">
            <div class="h-64 bg-gradient-to-r from-red-400 to-orange-500"></div>
            <button onclick="showPage('home')" class="absolute top-4 left-4 bg-white/80 rounded-full p-2">
                <i class="fas fa-arrow-left"></i>
            </button>
            <div class="absolute bottom-4 right-4">
                <button class="bg-white/80 rounded-full p-2 mr-2">
                    <i class="fas fa-heart"></i>
                </button>
                <button class="bg-white/80 rounded-full p-2">
                    <i class="fas fa-share-alt"></i>
                </button>
            </div>
        </div>
        
        <div class="p-4">
            <div class="flex justify-between items-start">
                <h1 class="text-2xl font-bold">南京大排档</h1>
                <div class="flex items-center">
                    <span class="rating-star">★</span>
                    <span class="ml-1 font-semibold text-lg">4.8</span>
                </div>
            </div>
            
            <div class="flex flex-wrap items-center text-sm text-gray-500 mt-2 mb-4">
                <div class="tag">南京菜</div>
                <div class="tag">人均 ¥88</div>
                <div class="tag">营业中 10:00-22:00</div>
                <div class="tag">有停车位</div>
            </div>
            
            <div class="bg-gray-50 rounded-2xl p-4 mb-4">
                <h2 class="text-lg font-semibold mb-3">评分详情</h2>
                <div class="grid grid-cols-4 gap-4">
                    <div class="text-center">
                        <div class="text-2xl font-bold">4.8</div>
                        <div class="text-sm text-gray-500">综合</div>
                    </div>
                    <div class="text-center">
                        <div class="text-xl font-bold">4.9</div>
                        <div class="text-sm text-gray-500">口味</div>
                    </div>
                    <div class="text-center">
                        <div class="text-xl font-bold">4.7</div>
                        <div class="text-sm text-gray-500">服务</div>
                    </div>
                    <div class="text-center">
                        <div class="text-xl font-bold">4.6</div>
                        <div class="text-sm text-gray-500">环境</div>
                    </div>
                </div>
            </div>
            
            <div class="mb-4">
                <h2 class="text-lg font-semibold mb-3">推荐菜品</h2>
                <div class="grid grid-cols-3 gap-3">
                    <div class="text-center">
                        <div class="h-24 bg-gray-200 rounded-lg mb-1"></div>
                        <div class="text-sm">盐水鸭</div>
                        <div class="text-sm text-gray-500">¥48</div>
                    </div>
                    <div class="text-center">
                        <div class="h-24 bg-gray-200 rounded-lg mb-1"></div>
                        <div class="text-sm">小笼包</div>
                        <div class="text-sm text-gray-500">¥32</div>
                    </div>
                    <div class="text-center">
                        <div class="h-24 bg-gray-200 rounded-lg mb-1"></div>
                        <div class="text-sm">鸭血粉丝汤</div>
                        <div class="text-sm text-gray-500">¥22</div>
                    </div>
                </div>
            </div>
            
            <div class="mb-4">
                <h2 class="text-lg font-semibold mb-3">用户评价</h2>
                <div class="flex items-start">
                    <div class="w-12 h-12 bg-gray-200 rounded-full mr-3"></div>
                    <div class="flex-1">
                        <div class="flex justify-between items-center">
                            <div class="font-semibold">张三</div>
                            <div class="text-sm text-gray-500">昨天</div>
                        </div>
                        <div class="rating-star mb-1">★★★★★</div>
                        <div class="text-sm">盐水鸭很正宗，环境也不错，下次还会再来！</div>
                        <div class="flex mt-2">
                            <div class="w-16 h-16 bg-gray-200 rounded mr-2"></div>
                            <div class="w-16 h-16 bg-gray-200 rounded"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="fixed bottom-0 left-0 right-0 bg-white p-4 border-t">
            <div class="flex justify-between items-center">
                <div class="text-sm text-gray-500">
                    <div>步行约8分钟</div>
                    <div>距离500m</div>
                </div>
                <button class="nav-btn" onclick="showPage('navigation')">
                    <i class="fas fa-map-marker-alt mr-2"></i>一键导航
                </button>
            </div>
        </div>
    </div>
    
    <!-- 路线导航页 -->
    <div id="navigation" class="page">
        <div class="relative">
            <div class="h-64 bg-gray-200"></div>
            <button onclick="showPage('detail')" class="absolute top-4 left-4 bg-white rounded-full p-2">
                <i class="fas fa-arrow-left"></i>
            </button>
        </div>
        
        <div class="p-4">
            <div class="flex justify-around mb-4">
                <button class="nav-option active" onclick="selectNavOption(0)">
                    <div class="flex items-center justify-center mb-2">
                        <i class="fas fa-car text-xl text-blue-500"></i>
                    </div>
                    <div class="text-sm font-semibold">驾车</div>
                </button>
                <button class="nav-option" onclick="selectNavOption(1)">
                    <div class="flex items-center justify-center mb-2">
                        <i class="fas fa-walking text-xl text-green-500"></i>
                    </div>
                    <div class="text-sm font-semibold">步行</div>
                </button>
                <button class="nav-option" onclick="selectNavOption(2)">
                    <div class="flex items-center justify-center mb-2">
                        <i class="fas fa-bus text-xl text-orange-500"></i>
                    </div>
                    <div class="text-sm font-semibold">公交</div>
                </button>
            </div>
            
            <!-- 驾车路线 -->
            <div id="drive-route" class="nav-details">
                <div class="flex justify-between items-center mb-3">
                    <div class="font-semibold">最快路线</div>
                    <div class="text-blue-500 font-semibold">10分钟</div>
                </div>
                <div class="flex items-center text-sm text-gray-500 mb-2">
                    <i class="fas fa-road mr-2"></i>
                    <span>距离 1.8km</span>
                    <span class="mx-2">|</span>
                    <span>途经 2 个红绿灯</span>
                </div>
                <div class="space-y-2">
                    <div class="flex items-start">
                        <div class="w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center text-white mr-2 flex-shrink-0">1</div>
                        <div class="text-sm">从当前位置出发，沿中山路向北行驶</div>
                    </div>
                    <div class="flex items-start">
                        <div class="w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center text-white mr-2 flex-shrink-0">2</div>
                        <div class="text-sm">在新街口右转进入中山东路</div>
                    </div>
                    <div class="flex items-start">
                        <div class="w-6 h-6 bg-green-500 rounded-full flex items-center justify-center text-white mr-2 flex-shrink-0">3</div>
                        <div class="text-sm">沿中山东路行驶500米，到达目的地</div>
                    </div>
                </div>
            </div>
            
            <!-- 步行路线 -->
            <div id="walk-route" class="nav-details" style="display: none;">
                <div class="flex justify-between items-center mb-3">
                    <div class="font-semibold">步行路线</div>
                    <div class="text-green-500 font-semibold">8分钟</div>
                </div>
                <div class="flex items-center text-sm text-gray-500 mb-2">
                    <i class="fas fa-walking mr-2"></i>
                    <span>距离 500m</span>
                </div>
                <div class="space-y-2">
                    <div class="flex items-start">
                        <div class="w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center text-white mr-2 flex-shrink-0">1</div>
                        <div class="text-sm">从当前位置出发，沿洪武路向北步行</div>
                    </div>
                    <div class="flex items-start">
                        <div class="w-6 h-6 bg-green-500 rounded-full flex items-center justify-center text-white mr-2 flex-shrink-0">2</div>
                        <div class="text-sm">步行500米，到达目的地</div>
                    </div>
                </div>
            </div>
            
            <!-- 公交路线 -->
            <div id="transit-route" class="nav-details" style="display: none;">
                <div class="flex justify-between items-center mb-3">
                    <div class="font-semibold">公交路线</div>
                    <div class="text-orange-500 font-semibold">15分钟</div>
                </div>
                <div class="flex items-center text-sm text-gray-500 mb-2">
                    <i class="fas fa-bus mr-2"></i>
                    <span>距离 800m</span>
                    <span class="mx-2">|</span>
                    <span>1 站</span>
                </div>
                <div class="space-y-2">
                    <div class="flex items-start">
                        <div class="w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center text-white mr-2 flex-shrink-0">1</div>
                        <div class="text-sm">步行至新街口站</div>
                    </div>
                    <div class="flex items-start">
                        <div class="w-6 h-6 bg-orange-500 rounded-full flex items-center justify-center text-white mr-2 flex-shrink-0">2</div>
                        <div class="text-sm">乘坐1路公交，1站后在夫子庙站下车</div>
                    </div>
                    <div class="flex items-start">
                        <div class="w-6 h-6 bg-green-500 rounded-full flex items-center justify-center text-white mr-2 flex-shrink-0">3</div>
                        <div class="text-sm">步行200米，到达目的地</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- 评价中心（半弹窗） -->
    <div id="review-modal" class="modal" style="display: none;">
        <div class="flex justify-between items-center mb-4">
            <h2 class="text-xl font-bold">评价南京大排档</h2>
            <button onclick="closeReviewModal()">
                <i class="fas fa-times text-gray-500 text-xl"></i>
            </button>
        </div>
        
        <div class="mb-4">
            <div class="text-center mb-4">
                <div id="rating" class="text-4xl rating-star">★★★★☆</div>
            </div>
            <div class="flex justify-between">
                <span class="text-sm text-gray-500">1分</span>
                <span class="text-sm text-gray-500">2分</span>
                <span class="text-sm text-gray-500">3分</span>
                <span class="text-sm text-gray-500">4分</span>
                <span class="text-sm text-gray-500">5分</span>
            </div>
        </div>
        
        <div class="mb-4">
            <h3 class="text-lg font-semibold mb-3">选择标签</h3>
            <div class="flex flex-wrap">
                <div class="tag" onclick="toggleTag(this)">味道好</div>
                <div class="tag" onclick="toggleTag(this)">服务好</div>
                <div class="tag" onclick="toggleTag(this)">环境好</div>
                <div class="tag" onclick="toggleTag(this)">性价比高</div>
                <div class="tag" onclick="toggleTag(this)">上菜快</div>
                <div class="tag" onclick="toggleTag(this)">分量足</div>
                <div class="tag" onclick="toggleTag(this)">适合聚餐</div>
                <div class="tag" onclick="toggleTag(this)">工作餐首选</div>
            </div>
        </div>
        
        <div class="mb-4">
            <h3 class="text-lg font-semibold mb-3">上传图片</h3>
            <div class="flex">
                <div class="w-20 h-20 bg-gray-100 rounded flex items-center justify-center border-2 border-dashed border-gray-300 mr-2">
                    <i class="fas fa-camera text-gray-400"></i>
                </div>
                <div class="w-20 h-20 bg-gray-200 rounded mr-2"></div>
                <div class="w-20 h-20 bg-gray-200 rounded mr-2"></div>
                <div class="w-20 h-20 bg-gray-200 rounded"></div>
            </div>
        </div>
        
        <div class="mb-4">
            <h3 class="text-lg font-semibold mb-3">评价内容</h3>
            <textarea placeholder="分享你的用餐体验..." class="w-full border border-gray-300 rounded-lg p-3 h-32 resize-none"></textarea>
        </div>
        
        <button class="w-full bg-blue-500 text-white font-bold py-3 rounded-full mt-4">
            提交评价
        </button>
    </div>
    
    <!-- 底部导航栏 -->
    <div class="tabbar">
        <div class="tabbar-item active" onclick="showPage('home')">
            <i class="fas fa-home"></i>
            <div>首页</div>
        </div>
        <div class="tabbar-item" onclick="showModal('review-modal')">
            <i class="fas fa-star"></i>
            <div>评价</div>
        </div>
        <div class="tabbar-item">
            <i class="fas fa-user"></i>
            <div>我的</div>
        </div>
    </div>
    
    <script>
        function showPage(pageId) {
            // 隐藏所有页面
            const pages = document.querySelectorAll('.page');
            pages.forEach(page => page.classList.remove('active'));
            
            // 显示目标页面
            const targetPage = document.getElementById(pageId);
            targetPage.classList.add('active');
            
            // 更新底部导航栏
            const tabbarItems = document.querySelectorAll('.tabbar-item');
            tabbarItems.forEach(item => item.classList.remove('active'));
            
            if (pageId === 'home') {
                tabbarItems[0].classList.add('active');
            } else if (pageId === 'review-modal') {
                tabbarItems[1].classList.add('active');
            }
        }
        
        function showModal(modalId) {
            const modal = document.getElementById(modalId);
            modal.style.display = 'block';
        }
        
        function closeReviewModal() {
            const modal = document.getElementById('review-modal');
            modal.style.display = 'none';
        }
        
        function selectNavOption(index) {
            const options = document.querySelectorAll('.nav-option');
            options.forEach(opt => opt.classList.remove('active'));
            options[index].classList.add('active');
            
            const routes = document.querySelectorAll('.nav-details');
            routes.forEach(route => route.style.display = 'none');
            routes[index].style.display = 'block';
        }
        
        function toggleTag(tag) {
            tag.classList.toggle('selected');
        }
        
        // 模拟地图加载
        setTimeout(() => {
            const mapElements = document.querySelectorAll('.bg-gray-200');
            mapElements.forEach(el => {
                if (el.style.height === '64px' || el.style.height === 'h-64') {
                    el.innerHTML = '<div class="flex items-center justify-center h-full text-gray-500">地图加载中...</div>';
                }
            });
        }, 1000);
    </script>
</body>
</html>